{% extends 'base.html.twig' %}


{% block body %}

    <h1>Ajouter l'article</h1>

    {{ form_start(formTrick) }}

    {{ form_row(formTrick.name) }}
    {{ form_row(formTrick.category) }}
    {{ form_row(formTrick.description) }}
    {{ form_row(formTrick.mainImage) }}



    <ul id="image-fields-list"
        data-prototype="{{ form_widget(formTrick.images.vars.prototype)|e }}"
        data-widget-tags="{{ '<li></li>'|e }}"
        data-widget-counter="{{ formTrick.images|length }}">
        {% for image in formTrick.images %}
            <li>
                {{ form_errors(image) }}
                {{ form_label(image) }}
            </li>
        {% endfor %}
    </ul>

    <button type="button"
            class="add-another-collection-widget"
            data-list-selector="#image-fields-list">Ajouter une image
    </button>
    <br>
    <ul id="video-fields-list"
        data-prototype="{{ form_widget(formTrick.videos.vars.prototype)|e }}"
        data-widget-tags="{{ '<li></li>'|e }}"
        data-widget-counter="{{ formTrick.videos|length }}">
        {% for video in formTrick.videos %}
            <li>
                {{ form_errors(video) }}
                {{ form_widget(video) }}
            </li>
        {% endfor %}
    </ul>

    <button type="button"
            class="add-another-collection-widget"
            data-list-selector="#video-fields-list">Ajouter une video
    </button>
    <br>
    <button type="submit" class="btn btn-primary">Ajouter l'article</button>

    {{ form_end(formTrick, {'render_rest': false}) }}


{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('create') }}



{% endblock %}


